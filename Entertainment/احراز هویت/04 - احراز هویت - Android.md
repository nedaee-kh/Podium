# احراز هویت - زبان   Android

# "OTP"

نمونه کد اندروید ورود با OTP یا رمز یکبار مصرف، برای پیاده‌سازی و اجرا، نیازمند پیاده‌سازی سرور کسب و کار می‌باشد. ورود از طریق شماره موبایل و یا آدرس پست الکترونیک کاربر امکان پذیر می‌باشد و و نحوه ارسال و دریافت آن، وابسته به پیاده سازی سرور کسب و کار شماست.

در این نمونه کد، با فرض پیاده سازی سرور کسب و کار در عمومی‌ترین حالت ممکن و با ارسال **شماره موبایل و یا آدرس پست الکترونیک کاربر** به متد پیاده سازی شده در سرور (که در این نمونه کد به نام identity و با آدرس /otp/identity    یاد می‌شود)، درخواستِ ارسالِ کدِ تایید برای کاربر ثبت می‌شود، و پس از دریافت جواب در سمت کلاینت می‌بایست کاربر به صفحه وارد کردن کد تایید ارسال شده برای وی، هدایت شود. در این مرحله می‌توان از طریق متد دوم (که در این نمونه کد با نام verify و با آدرس /otp/verify یاد می‌شود)، کد وارد شده از طرف کاربر را برای سرور کسب و کار ارسال نمود و در جواب شی credential را که حاویِ access token کاربر، refresh token و ... می‌باشد را دریافت نمود.

در این نمونه کد برای ارسال درخواست‌ها از کتابخانه retrofit2 و برای ارتباط بین لایه‌های برنامه از LiveData استفاده شده است.

در این نمونه کد از یک Activity با نام LoginActivity به منظور ورود کاربر (که حاوی دو Fragment می‌باشد) و یک Acitivity  با نام MainActivity به عنوان صفحه اصلی استفاده شده است.  IdentityFragment شامل دریافت identity از کاربر و درخواست برای ارسال آن می‌باشد. و VerifyFragment نیز مسئولیت دریافت کد verify از کاربر و دریافت credential می‌باشد. (می‌توانید token  و دیگر موارد را در این قسمت دریافت و نگهداری نمایید.)

دسترسی به نمونه کد اندروید

https://github.com/FanapSoft/pod-otp-android-sample-code

<div class="box-end">
</div>
